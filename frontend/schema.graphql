# This file was generated based on ".graphqlconfig". Do not edit manually.

schema {
    query: Query
    mutation: Mutation
    subscription: Subscription
}

interface Event {
    timestamp: DateTime!
    type: String!
}

interface GameEvent {
    game: Game
    player: Player
    source: Player!
    state(playId: ID!): GameState
    timestamp: DateTime!
    type: String!
}

interface GameState {
    game: Game!
    playId: ID!
}

type AlliesAndEnemiesGameState implements GameState {
    board: BoardState!
    currentTurn: CurrentTurn!
    game: Game!
    playId: ID!
    players: [AlliesAndEnemiesPlayer!]!
    viewingPlayer: AlliesAndEnemiesPlayer!
}

type AlliesAndEnemiesNominationEvent implements Event & GameEvent {
    game: Game
    player: Player
    source: Player!
    state(playId: ID!): GameState
    timestamp: DateTime!
    type: String!
}

type AlliesAndEnemiesPlayer {
    id: ID!
    nickname: String
    position: Float!
    role: PlayerRole
}

type AlliesAndEnemiesVoteEvent implements Event & GameEvent {
    game: Game
    player: Player
    source: Player!
    state(playId: ID!): GameState
    timestamp: DateTime!
    type: String!
    vote: VoteValue!
}

type BoardRow {
    cards: [Card!]!
    maxCards: Float!
}

type BoardState {
    actions: [BoardActionType!]!
    ally: BoardRow!
    enemy: BoardRow!
}

type Card {
    suit: CardSuit!
}

type CurrentTurn {
    currentPlayer: AlliesAndEnemiesPlayer!
    disabledNominations: [AlliesAndEnemiesPlayer!]!
    nominatedPlayer: AlliesAndEnemiesPlayer
    number: Float!
    position: Float!
    status: TurnStatus!
}

"Provides high level details about a game."
type Game {
    hosts: [Player!]!
    id: ID!
    players: [Player!]!
    state(playId: ID!): GameState
    status: GameStatus!
    type: GameType!
}

"Game types determine the games that are playable. Includes a display name, description and unique code."
type GameDescription {
    description: String!
    displayName: String!
    type: GameType!
}

"Represents the relationship between a player and a game"
type GamePlayer {
    game: Game!
    id: ID!
    isHost: Boolean!
    player: Player!
}

type GameStatusEvent implements Event & GameEvent {
    changedFrom: GameStatus!
    changedTo: GameStatus!
    game: Game
    player: Player
    source: Player!
    state(playId: ID!): GameState
    timestamp: DateTime!
    type: String!
}

type JoinGameEvent implements Event & GameEvent {
    game: Game
    joined: Player!
    player: Player
    source: Player!
    state(playId: ID!): GameState
    timestamp: DateTime!
    type: String!
}

type Mutation {
    alliesAndEnemiesNominate(nominatedPlayerId: ID!, playId: ID!): AlliesAndEnemiesNominationEvent!
    alliesAndEnemiesVote(playId: ID!, vote: VoteValue!): AlliesAndEnemiesVoteEvent!
    createGame(gameType: GameType!, playerId: ID!): Game
    deleteGame(id: ID!): Boolean!
    joinGame(gameId: String!, playerId: String!, playerNickname: String!): JoinGameEvent!
    setGameStatus(playId: ID!, status: GameStatus!): GameStatusEvent
}

"Player details"
type Player {
    id: ID!
    nickname: String
}

type Query {
    allGames: [Game!]!
    game(id: ID!): Game
    gamePlayer(gameId: String!, playerId: String!): GamePlayer
    gameTypes: [GameDescription!]!
    joinableGames: [Game!]!
    state(playId: ID!): GameState
}

type Subscription {
    play(gameId: ID!): GameEvent!
}

enum BoardActionType {
    Execution
    InvestigateLoyalty
    None
    PolicyPeak
    SpecialElection
}

enum CardSuit {
    Ally
    Enemy
}

"The current status of a game. Designates whether a game is complete, joinable, or playable."
enum GameStatus {
    Archived
    Closed
    InLobby
    InProgress
}

"This property is used to determine other more specific properties of a specific game."
enum GameType {
    AlliesNEnemies
}

enum PlayerRole {
    Ally
    Enemy
    EnemyLeader
}

enum TurnStatus {
    Election
    FirstHand
    Nomination
    SecondHand
    TakeAction
}

enum VoteValue {
    No
    Yes
}


"The javascript `Date` as string. Type represents date and time as the ISO Date string."
scalar DateTime